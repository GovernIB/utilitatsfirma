openapi: 3.0.1
info:
  description: OpenAPI
  title: OpenAPI
  version: 0.0.1
servers:
- url: /utilitatsfirmaapi/interna
- url: http://localhost:8080/utilitatsfirmaapi/interna
- url: https://dev.caib.es/utilitatsfirmaapi/interna
- url: https://proves.caib.es/utilitatsfirmaapi/interna
- url: https://se.caib.es/utilitatsfirmaapi/interna
- url: https://www.caib.es/utilitatsfirmaapi/interna
tags:
- description: Firma Server Swagger v1. API Interna de PortaFIB que ofereix serveis
    de firma en servidor.
  name: SignatureOnServer v1
- description: Firma Validació Swagger v1.API Interna de utilitatsfirma que ofereix
    serveis de validació de firmes.
  name: SignatureValidation v1
paths:
  /secure/signatureonserver/v1/getDocumentaryTypes:
    get:
      operationId: getDocumentaryTypes
      parameters:
      - description: Idioma en que s'han de retornar les dades(Només suportat 'ca'
          o 'es')
        examples:
          Català:
            description: Català
            value: ca
          Castellano:
            description: Castellano
            value: es
        explode: true
        in: query
        name: language
        required: false
        schema:
          default: ca
          type: string
        style: form
      responses:
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: Paràmetres incorrectes
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: No Autenticat
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: No autoritzat
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: Error no controlat
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/DocumentaryType'
                type: array
                uniqueItems: true
          description: Operació realitzada correctament
      security:
      - BasicAuth: []
      summary: "Retorna una llista dels Tipus Documentals disponibles en el servidor:\
        \ tipus documentals base, tipus documentals de l'entitat i tipus documentals\
        \ de l'usuari aplicació"
      tags:
      - SignatureOnServer v1
      x-accepts:
      - application/json
  /secure/signatureonserver/v1/getLanguages:
    get:
      operationId: getLanguages
      parameters:
      - description: Idioma en que s'han de retornar les dades(Només suportat 'ca'
          o 'es')
        examples:
          Català:
            description: Català
            value: ca
          Castellano:
            description: Castellano
            value: es
        explode: true
        in: query
        name: language
        required: false
        schema:
          default: ca
          type: string
        style: form
      responses:
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: Paràmetres incorrectes
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: No Autenticat
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: No autoritzat
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: Error no controlat
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/KeyValue'
                type: array
                uniqueItems: true
          description: Operació realitzada correctament
      security:
      - BasicAuth: []
      summary: Retorna els idiomes disponibles.
      tags:
      - SignatureOnServer v1
      x-accepts:
      - application/json
  /secure/signatureonserver/v1/getProfiles:
    get:
      operationId: getProfiles
      parameters:
      - description: Idioma en que s'han de retornar les dades(Només suportat 'ca'
          o 'es')
        examples:
          Català:
            description: Català
            value: ca
          Castellano:
            description: Castellano
            value: es
        explode: true
        in: query
        name: language
        required: false
        schema:
          default: ca
          type: string
        style: form
      responses:
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: Paràmetres incorrectes
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: No Autenticat
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: No autoritzat
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: Error no controlat
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/Profile'
                type: array
                uniqueItems: true
          description: Operació realitzada correctament
      security:
      - BasicAuth: []
      summary: Retorna els perfils de firma.
      tags:
      - SignatureOnServer v1
      x-accepts:
      - application/json
  /secure/signatureonserver/v1/signdocument:
    post:
      operationId: signdocument
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SignDocumentRequest'
        description: Operacio de firma simple en servidor d'un document
      responses:
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: Paràmetres incorrectes
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: No Autenticat
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: No autoritzat
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: Error no controlat
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SignDocumentResponse'
          description: Operació realitzada correctament
      security:
      - BasicAuth: []
      summary: Operacio de firma simple en servidor d'un document
      tags:
      - SignatureOnServer v1
      x-content-type: application/json
      x-accepts:
      - application/json
  /secure/signatureonserver/v1/upgradeSignature:
    post:
      operationId: upgradeSignature
      parameters:
      - description: Idioma en que s'han de retornar les dades i errors(Només suportat
          'ca' o 'es')
        examples:
          Català:
            description: Català
            value: ca
          Castellano:
            description: Castellano
            value: es
        explode: true
        in: query
        name: languageUI
        required: false
        schema:
          default: ca
          type: string
        style: form
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpgradeRequest'
        description: Funcio de upgrade se firma digital
      responses:
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: Paràmetres incorrectes
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: No Autenticat
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: No autoritzat
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: Error no controlat
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpgradeResponse'
          description: Operació realitzada correctament
      security:
      - BasicAuth: []
      summary: Operacio de firma simple en servidor d'un document
      tags:
      - SignatureOnServer v1
      x-content-type: application/json
      x-accepts:
      - application/json
  /secure/signatureonserver/v1/versio:
    get:
      operationId: versio
      responses:
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: Paràmetres incorrectes
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: No Autenticat
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: No autoritzat
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: Error no controlat
        "200":
          content:
            application/json:
              schema:
                type: string
          description: Retornada correctament la versió d'aquest Servei
      security:
      - BasicAuth: []
      summary: Retorna la versió d'aquest Servei
      tags:
      - SignatureOnServer v1
      x-accepts:
      - application/json
  /secure/signaturevalidation/v1/validateSignature:
    post:
      operationId: validateSignature
      parameters:
      - description: Idioma en que s'han de retornar les dades i errors(Només suportat
          'ca' o 'es')
        examples:
          Català:
            description: Català
            value: ca
          Castellano:
            description: Castellano
            value: es
        explode: true
        in: query
        name: languageUI
        required: false
        schema:
          default: ca
          type: string
        style: form
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ValidateSignatureRequest'
        description: Operacio de firma simple en servidor d'un document
      responses:
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: Paràmetres incorrectes
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: No Autenticat
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RestExceptionInfo'
          description: No autoritzat
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CertificateTypeMineturConstants'
          description: Error no controlat
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidateSignatureResponse'
          description: Operació realitzada correctament
      security:
      - BasicAuth: []
      summary: Operacio de firma simple en servidor d'un document
      tags:
      - SignatureValidation v1
      x-content-type: application/json
      x-accepts:
      - application/json
components:
  schemas:
    RestExceptionInfo:
      description: Estructura de dades utilitzada per passar informació d'un error
      example:
        field: field
        errorMessage: errorMessage
        stackTraceCause: stackTraceCause
        errorCode: 0
        stackTrace: stackTrace
      properties:
        errorCode:
          description: Codi intern de l'error. Si l'Aplicació no gestiona codis d'error
            llavors val null.
          format: int32
          type: integer
        errorMessage:
          description: Missatge de l'error
          type: string
        stackTrace:
          description: Stacktrace de l'excepció
          type: string
        stackTraceCause:
          description: Stacktrace de l'excepció causant de l'error si n'hi hagués.
          type: string
        field:
          description: Indica el camp en que hi ha un error de validació.
          type: string
      required:
      - errorMessage
      type: object
    SignTypeConstants:
      description: |-
        Tipus de Firma. Valors possibles:
            - “PAdES” (Constant SIGN_TYPE_PADES)
            - “XAdES” (Constant SIGN_TYPE_XADES)
            - “CAdES” (Constant SIGN_TYPE_CADES)
            - “FacturaE” (Constant SIGN_TYPE_FACTURAE)
            - “OOXML” (Constant SIGN_TYPE_OOXML)
            - “ODF” (Constant SIGN_TYPE_ODF)
            - “SMIME” (Constant SIGN_TYPE_SMIME)
            - “CAdES-ASiC-S” (Constant SIGN_TYPE_CADES_ASIC_S)
            - “XAdES-ASiC-S” (Constant SIGN_TYPE_XADES_ASIC_S)
            - “PKCS#1” (Constant SIGN_TYPE_PKCS1)
      enum:
      - PAdES
      - XAdES
      - CAdES
      - FacturaE
      - OOXML
      - ODF
      - SMIME
      - CAdES-ASiC-S
      - XAdES-ASiC-S
      - PKCS#1
      type: string
      x-enum-varnames:
      - SIGN_TYPE_PADES
      - SIGN_TYPE_XADES
      - SIGN_TYPE_CADES
      - SIGN_TYPE_FACTURAE
      - SIGN_TYPE_OOXML
      - SIGN_TYPE_ODF
      - SIGN_TYPE_SMIME
      - SIGN_TYPE_CADESASICS
      - SIGN_TYPE_XADESASICS
      - SIGN_TYPE_PKCS
      x-enum-descriptions:
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
    SignAlgorithmConstants:
      description: "Algorisme de Firma. Valors:\r\n    • \"SHA-1\"\r\n    • \"SHA-256\"\
        \r\n    • \"SHA-384\"\r\n    • \"SHA-512\""
      enum:
      - SHA-1
      - SHA-256
      - SHA-384
      - SHA-512
      type: string
      x-enum-varnames:
      - SIGN_ALGORITHM_SHA1
      - SIGN_ALGORITHM_SHA256
      - SIGN_ALGORITHM_SHA384
      - SIGN_ALGORITHM_SHA512
      x-enum-descriptions:
      - ' '
      - ' '
      - ' '
      - ' '
    SignModeConstants:
      description: |
        Valors:
            • SIGN_MODE_ATTACHED_ENVELOPED(0): El fitxer de dades resultant inclou la firma: PDF, ODT, ...
            • SIGN_MODE_ATTACHED_ENVELOPING(3): El fitxer resultant serà la firma que incloura les dades originals
            • SIGN_MODE_DETACHED(1): El fitxer de firma no inclourà les dades: per separat trobarem un fitxer de firma i el fitxer original
            • SIGN_MODE_INTERNALLY_DETACHED(4): Firma especial XAdES en que la firma i les dades estan al mateix nivell dins de l'XML: ni la firma inclou les dades ni les dades inclouen la firma
            • SIGN_MODE_EXTERNALLY_DETACHED(5):  Firma especial XAdES en que les dades es substitueixen per un resum del fitxer a signar. Entre les dades del resum hi ha una URL a les dades del fitxer original.
      enum:
      - 0
      - 3
      - 1
      - 4
      - 5
      format: int32
      type: integer
      x-enum-varnames:
      - SIGN_MODE_ATTACHED_ENVELOPED
      - SIGN_MODE_ATTACHED_ENVELOPING
      - SIGN_MODE_DETACHED
      - SIGN_MODE_INTERNALLY_DETACHED
      - SIGN_MODE_EXTERNALLY_DETACHED
      x-enum-descriptions:
      - "El fitxer de dades resultant inclou la firma: PDF, ODT, ..."
      - El fitxer resultant serà la firma que incloura les dades originals
      - "El fitxer de firma no inclourà les dades: per separat trobarem un fitxer\
        \ de firma i el fitxer origina"
      - "Firma especial XAdES en que la firma i les dades estan al mateix nivell dins\
        \ de l'XML: ni la firma inclou les dades ni les dades inclouen la firma"
      - Firma especial XAdES en que les dades es substitueixen per un resum del fitxer
        a signar. Entre les dades del resum hi ha una URL a les dades del fitxer original
    SignOperationConstants:
      description: "Operació de firma realitzada: Firma (0), Cofirma (1) o Contrafirma\
        \ (2).\r\nLes constants són:\r\n    • SIGN_OPERATION_SIGN = 0;\r\n    • SIGN_OPERATION_COSIGN\
        \ = 1;\r\n    • SIGN_OPERATION_COUNTERSIGN = 2;"
      enum:
      - 0
      - 1
      - 2
      format: int32
      type: integer
      x-enum-varnames:
      - SIGN_OPERATION_SIGN
      - SIGN_OPERATION_COSIGN
      - SIGN_OPERATION_COUNTERSIGN
      x-enum-descriptions:
      - Firma
      - Cofirma
      - Contrafirma
    SignaturesTableLocationConstants:
      description: "Posició de la Taula de firmes:\r\n    • 0: Sense taula de firmes\r\
        \n    • 1: Taula de firmes en la 1a pàgina\r\n    • -1: Darrera pàgina"
      enum:
      - 0
      - 1
      - -1
      format: int32
      type: integer
      x-enum-varnames:
      - SIGNATURES_TABLE_LOCATION_WITHOUT
      - SIGNATURES_TABLE_LOCATION_FIRSTPAGE
      - SIGNATURES_TABLE_LOCATION_LASTPAGE
      x-enum-descriptions:
      - Sense taula de firmes
      - Taula de firmes en la 1a pàgina
      - Darrera pàgina
    SignProfileConstants:
      description: "Perfil empleado en una firma con certificado electrónico. Los\
        \ posibles valores asignables son los siguientes:\r\n  AdES-BES\r\n  AdES-EPES\r\
        \n  AdES-T\r\n  AdES-C\r\n  AdES-X\r\n  AdES-X1\r\n  AdES-X2\r\n  AdES-XL\r\
        \n  AdES-XL1\r\n  AdES-XL2\r\n  AdES-A\r\n  PAdES-LTV\r\n  PAdES-Basic"
      enum:
      - AdES-BES
      - AdES-EPES
      - AdES-T
      - AdES-C
      - AdES-X
      - AdES-X1
      - AdES-X2
      - AdES-XL
      - AdES-XL1
      - AdES-XL2
      - AdES-A
      - PAdES-LTV
      - PAdES-Basic
      format: string
      type: string
      x-enum-varnames:
      - SIGN_PROFILE_BES
      - SIGN_PROFILE_EPES
      - SIGN_PROFILE_T
      - SIGN_PROFILE_C
      - SIGN_PROFILE_X
      - SIGN_PROFILE_X1
      - SIGN_PROFILE_X2
      - SIGN_PROFILE_XL
      - SIGN_PROFILE_XL1
      - SIGN_PROFILE_XL2
      - SIGN_PROFILE_A
      - SIGN_PROFILE_PADES_LTV
      - SIGN_PROFILE_PADES_BASIC
      x-enum-descriptions:
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
    StatusConstants:
      description: "Valors:\r\n    • STATUS_INITIALIZING: Codi d'estat d'una petició\
        \ de firma que indica un que s'esta inicialitzant.\n    • STATUS_IN_PROGRESS:\
        \ Codi d'estat d'una petició de firma que indica un que esta en procés.\n\
        \    • STATUS_FINAL_OK: Codi d'estat d'una petició de firma que indica que\
        \ ha finalitzat correctament\n    • STATUS_FINAL_ERROR: Codi d'estat d'una\
        \ petició de firma que indica que ha finalitzat amb errors\n    • STATUS_CANCELLED:\
        \ Codi d'estat d'una petició de firma que indica que ha sigut cancelada\n"
      enum:
      - 0
      - 1
      - 2
      - -1
      - -2
      format: int32
      type: integer
      x-enum-varnames:
      - STATUS_INITIALIZING
      - STATUS_IN_PROGRESS
      - STATUS_FINAL_OK
      - STATUS_FINAL_ERROR
      - STATUS_CANCELLED
      x-enum-descriptions:
      - Codi d'estat d'una petició de firma que indica un que s'esta inicialitzant.
      - Codi d'estat d'una petició de firma que indica un que esta en procés.
      - Codi d'estat d'una petició de firma que indica que ha finalitzat correctament
      - Codi d'estat d'una petició de firma que indica que ha finalitzat amb errors
      - Codi d'estat d'una petició de firma que indica que ha sigut cancelada
    DocumentaryTypeConstants:
      description: |-
        Valors:
        • RESOLUCIO=1(TipusResolució - TD01)
        • ACORD=2(Tipus Acord - TD02)
        • CONTRACTE=3(Tipus Contracte - TD03)
        • CONVENI=4(Tipus Conveni - TD04)
        • DECLARACIO=5(Tipus Declaració - TD05)
        • COMUNICACIO=6(Tipus Comunicació - TD06)
        • NOTIFICACIO=7(Tipus Notificació - TD07)
        • PUBLICACIO=8(Tipus Publicació - TD08)
        • JUSTIFICANT_RECEPCIO=9(Tipus Justificant de Recepció - TD09)
        • ACTA=10(Tipus Acta - TD10)
        • CERTIFICAT=11(Tipus Certificat - TD11)
        • DILIGENCIA=12(Tipus Diligencia - TD12)
        • INFORME=13(Tipus Informe - TD13)
        • SOLICITUD=14(Tipus Sol·licitud - TD14)
        • DENUNCIA=15(Tipus Denuncia - TD15)
        • ALEGACIO=16(Tipus Al·legació - TD16)
        • RECURS=17(Tipus Recurs - TD17)
        • COMUNICACIO_CIUTADA=18(Tipus Comunicació Ciutadà - TD18)
        • FACTURA=19(Tipus Factura - TD19)
        • ALTRES_INCAUTATS=20(Tipus Altres Encautats - TD20)
        • ALTRES=99(Tipus Altres - TD99)
      enum:
      - "1"
      - "2"
      - "3"
      - "4"
      - "5"
      - "6"
      - "7"
      - "8"
      - "9"
      - "10"
      - "11"
      - "12"
      - "13"
      - "14"
      - "15"
      - "16"
      - "17"
      - "18"
      - "19"
      - "20"
      - "99"
      format: int64
      type: string
      x-enum-varnames:
      - RESOLUCIO
      - ACORD
      - CONTRACTE
      - CONVENI
      - DECLARACIO
      - COMUNICACIO
      - NOTIFICACIO
      - PUBLICACIO
      - JUSTIFICANT_RECEPCIO
      - ACTA
      - CERTIFICAT
      - DILIGENCIA
      - INFORME
      - SOLICITUD
      - DENUNCIA
      - ALEGACIO
      - RECURS
      - COMUNICACIO_CIUTADA
      - FACTURA
      - ALTRES_INCAUTATS
      - ALTRES
      x-enum-descriptions:
      - Tipus Resolució - TD01
      - Tipus Acord - TD02
      - Tipus Contracte - TD03
      - Tipus Conveni - TD04
      - Tipus Declaració - TD05
      - Tipus Comunicació - TD06
      - Tipus Notificació - TD07
      - Tipus Publicació - TD08
      - Tipus Justificant de Recepció - TD09
      - Tipus Acta - TD10
      - Tipus Certificat - TD11
      - Tipus Diligencia - TD12
      - Tipus Informe - TD13
      - Tipus Sol·licitud - TD14
      - Tipus Denuncia - TD15
      - Tipus Al·legació - TD16
      - Tipus Recurs - TD17
      - Tipus Comunicació Ciutadà - TD18
      - Tipus Factura - TD19
      - Tipus Altres Encautats - TD20
      - Tipus Altres - TD99
    DocumentaryType:
      description: Model de dades d'un tipus documental
      example:
        documentTypeBase: 1
        documentType: 6
        name: name
      properties:
        documentType:
          description: Identificador de Tipus Documental
          format: int64
          type: integer
        name:
          description: Nom del Tipus Documental
          type: string
        documentTypeBase:
          description: Identificador de Tipus Documental associat als valors ENI
          format: int64
          type: integer
      required:
      - documentType
      - documentTypeBase
      - name
      type: object
    KeyValue:
      description: Objecte per afegir informació addicional sobre la firma o el firmant
      example:
        value: value
        key: key
      properties:
        key:
          description: Clau del valor
          type: string
        value:
          description: Valor de la clau
          type: string
      required:
      - key
      - value
      type: object
    Profile:
      description: Detalls del Perfil d'un usuari Aplicació
      example:
        code: code
        name: name
        description: description
      properties:
        code:
          description: Codi del perfil
          type: string
        name:
          description: Nom del perfil en l’idioma elegit.
          type: string
        description:
          description: Descripció del perfil en l’idioma elegit.
          type: string
      required:
      - code
      - description
      - name
      type: object
    CommonInfo:
      description: Configuracions generals de firma i identificacio del solicitant
        i solicitat
      example:
        signProfile: PROFILE_PADES
        administrationID: 99999999Z
        organizationID: B99999999
        signerEmail: correufirmant@entitat.org
        languageUI: ca
        username: "\"u800xx\" / \"u[DNI]\""
      properties:
        signProfile:
          description: Identificador único del usuario
          example: PROFILE_PADES
          type: string
        languageUI:
          description: Idioma en que retornar valors i missatges d'error
          example: ca
          type: string
        username:
          description: " - FIRMA WEB: Requerit. És el codi d'usuari dins l'entitat.\
            \ Per exemple en entorn CAIB serien els \"u800xx\" o \"u[DNI]\"\r\n -FIRMA\
            \ EN SERVIDOR: Opcional. Es reconama que valgui null a no ser que l'administrador\
            \ digui el contrari. És la configuració de firma en el sistema especí\
            fic de firma. Per exemple amb el Plugin de @firma federat et pots connectar\
            \ amb un usuari-password però aquest pot tenir diverses configuracions\
            \ per fer firmes en servidor o àlies: \"username\" s'utilitza de definir\
            \ aquesta configuració o àlies."
          example: "\"u800xx\" / \"u[DNI]\""
          type: string
        administrationID:
          description: " - FIRMA WEB: Requerit. És el DNI de la persona signant. Si\
            \ esta activa la validació dins PortaFIB llavors es valida que el DNI\
            \ del Certificat sigui el mateix que aquest.\r\n - FIRMA EN SERVIDOR:\
            \ Opcional. És el CIF o NIF associat al certificat en servidor. Si es\
            \ defineix i si esta activa la validació dins PortaFIB llavors es valida\
            \ que el DNI del Certificat sigui el mateix que aquest."
          example: 99999999Z
          type: string
        organizationID:
          description: Opcional. És el CIF de l'organització representada pel signant.
            Si esta activa la validació dins PortaFIB llavors es valida que el Certificat
            sigui un certificat de representant d'aquest CIF.
          example: B99999999
          type: string
        signerEmail:
          description: " - FIRMA WEB: Opcional. Correu del Firmant. Per afegir a les\
            \ dades de la firma.\r\n - FIRMA EN SERVIDOR: Opcional. Correu del departament\
            \ que ordena la firma. Per afegir a les dades de la firma."
          example: correufirmant@entitat.org
          type: string
      required:
      - administrationID
      - languageUI
      type: object
    Document:
      description: Objecte que representa un Document/Fitxer
      example:
        data: data
        mime: mime
        name: name
      properties:
        name:
          description: Nom del fitxer.
          type: string
        mime:
          description: Tipus mime del fitxer.
          type: string
        data:
          description: Contingut del fitxer. En llistats aquest camp vendrà buit.
          format: byte
          type: string
      required:
      - name
      type: object
    FileInfoSignature:
      description: Informació especifica per a realitzar la firma
      example:
        reason: Exemple de firma
        additionalInformation: ca
        expedientNom: ca
        languageSign: ca
        documentType: 0
        signID: "1"
        expedientCodi: ca
        procedimentCodi: ca
        useTimeStamp: true
        procedimentNom: ca
        signNumber: 1
        fileToSign:
          data: data
          mime: mime
          name: name
        name: test.pdf
        location: Palma
        previusSignatureDetachedFile:
          data: data
          mime: mime
          name: name
        expedientUrl: ca
      properties:
        fileToSign:
          $ref: '#/components/schemas/Document'
        previusSignatureDetachedFile:
          $ref: '#/components/schemas/Document'
        signID:
          description: Identificador de la Firma
          example: "1"
          type: string
        name:
          description: Nom descriptiu de la firma. Pot ser el nom del fitxer o un
            nom associat a la tasca per a la que es requereix la firma.
          example: test.pdf
          type: string
        reason:
          description: Raó de la realització de la firma.
          example: Exemple de firma
          type: string
        location:
          description: Lloc on es realitza la firma.
          example: Palma
          type: string
        signNumber:
          description: Posició de la firma dins el flux de firma.
          example: 1
          format: int32
          type: integer
        languageSign:
          description: Idioma del document.
          example: ca
          type: string
        expedientCodi:
          description: Codi de l'expedient.
          example: ca
          type: string
        expedientNom:
          description: Nom de l'expedient.
          example: ca
          type: string
        expedientUrl:
          description: URL de l'expedient.
          example: ca
          type: string
        procedimentCodi:
          description: Codi del Procediment.
          example: ca
          type: string
        procedimentNom:
          description: Nom del Procediment.
          example: ca
          type: string
        documentType:
          description: Tipus Documental. Si val null se li assigna 99
          format: int64
          type: integer
        additionalInformation:
          description: Informació Addicional.
          example: ca
          items:
            $ref: '#/components/schemas/KeyValue'
          type: array
        useTimeStamp:
          description: 'Indica si s''ha d''utilitzar segell de temps en la firma.
            Només farà cas a aquest valor si la configuració de firma té definit el
            camp ''Politica de Segell de Temps'' com a ''L´usuari elegirà si vol segellat
            de temps'' '
          example: true
          type: boolean
      required:
      - fileToSign
      - languageSign
      - location
      - name
      - reason
      - signID
      - signNumber
      type: object
    SignDocumentRequest:
      example:
        fileInfoSignature:
          reason: Exemple de firma
          additionalInformation: ca
          expedientNom: ca
          languageSign: ca
          documentType: 0
          signID: "1"
          expedientCodi: ca
          procedimentCodi: ca
          useTimeStamp: true
          procedimentNom: ca
          signNumber: 1
          fileToSign:
            data: data
            mime: mime
            name: name
          name: test.pdf
          location: Palma
          previusSignatureDetachedFile:
            data: data
            mime: mime
            name: name
          expedientUrl: ca
        commonInfo:
          signProfile: PROFILE_PADES
          administrationID: 99999999Z
          organizationID: B99999999
          signerEmail: correufirmant@entitat.org
          languageUI: ca
          username: "\"u800xx\" / \"u[DNI]\""
      properties:
        commonInfo:
          $ref: '#/components/schemas/CommonInfo'
        fileInfoSignature:
          $ref: '#/components/schemas/FileInfoSignature'
      required:
      - commonInfo
      - fileInfoSignature
      type: object
    CustodyInfo:
      description: Informació de Custòdia
      example:
        validationFileUrl: validationFileUrl
        originalFileDirectURL: originalFileDirectURL
        expedientID: expedientID
        custodyID: custodyID
        csv: csv
        eniFileDirectUrl: eniFileDirectUrl
        csvValidationWeb: csvValidationWeb
        documentID: documentID
        csvGenerationDefinition: csvGenerationDefinition
        printableFileDirectUrl: printableFileDirectUrl
      properties:
        custodyID:
          description: Identificador del sistema de custòdia
          type: string
        csv:
          description: URL on descarregar directament el fitxer signat
          type: string
        csvValidationWeb:
          description: Codi Segur de Validació d'aquest document custodiat.
          type: string
        validationFileUrl:
          description: URL on descarregar-se la definició de com es genera el CSV
          type: string
        csvGenerationDefinition:
          description: "Pàgina web on validar el document, normalment a partir de\
            \ CSV"
          type: string
        originalFileDirectURL:
          description: URL al document original
          type: string
        printableFileDirectUrl:
          description: URL al document en format per imprimir
          type: string
        eniFileDirectUrl:
          description: Url al eni File
          type: string
        expedientID:
          description: Id del expedient si és un expedient o esta relacionat amb un
            expedient.
          type: string
        documentID:
          description: Id del document a signar
          type: string
      required:
      - custodyID
      type: object
    ProcessStatus:
      description: Estat d'algun procés
      example:
        errorStackTrace: errorStackTrace
        errorMessage: errorMessage
        status: 0
      properties:
        status:
          format: int32
          type: integer
        errorMessage:
          type: string
        errorStackTrace:
          type: string
      type: object
    SignDocumentResponse:
      description: Resposta de la petició de firma en servidor
      example:
        signPlugin:
          signaturePluginCode: signaturePluginCode
          signaturePluginNamePublic: signaturePluginNamePublic
          signaturePluginDescriptionPublic: signaturePluginDescriptionPublic
          signaturePluginId: signaturePluginId
          signaturePluginNameInternal: signaturePluginNameInternal
        signedFileInfo:
          signaturesTableLocation: 1
          signers:
          - issuerCert: issuerCert
            eniRolFirma: eniRolFirma
            additionalInformation:
            - value: value
              key: key
            - value: value
              key: key
            signPlugin:
              signaturePluginCode: signaturePluginCode
              signaturePluginNamePublic: signaturePluginNamePublic
              signaturePluginDescriptionPublic: signaturePluginDescriptionPublic
              signaturePluginId: signaturePluginId
              signaturePluginNameInternal: signaturePluginNameInternal
            subjectCert: subjectCert
            eniSignerName: eniSignerName
            eniSignLevel: eniSignLevel
            signDate: 2000-01-23T04:56:07.000+00:00
            eniSignerAdministrationId: eniSignerAdministrationId
            serialNumberCert: serialNumberCert
          - issuerCert: issuerCert
            eniRolFirma: eniRolFirma
            additionalInformation:
            - value: value
              key: key
            - value: value
              key: key
            signPlugin:
              signaturePluginCode: signaturePluginCode
              signaturePluginNamePublic: signaturePluginNamePublic
              signaturePluginDescriptionPublic: signaturePluginDescriptionPublic
              signaturePluginId: signaturePluginId
              signaturePluginNameInternal: signaturePluginNameInternal
            subjectCert: subjectCert
            eniSignerName: eniSignerName
            eniSignLevel: eniSignLevel
            signDate: 2000-01-23T04:56:07.000+00:00
            eniSignerAdministrationId: eniSignerAdministrationId
            serialNumberCert: serialNumberCert
          signOperation: 1
          custodyInfo:
            validationFileUrl: validationFileUrl
            originalFileDirectURL: originalFileDirectURL
            expedientID: expedientID
            custodyID: custodyID
            csv: csv
            eniFileDirectUrl: eniFileDirectUrl
            csvValidationWeb: csvValidationWeb
            documentID: documentID
            csvGenerationDefinition: csvGenerationDefinition
            printableFileDirectUrl: printableFileDirectUrl
          eniTipoFirma: TF01
          eniPerfilFirma: AdES-BES
          validationInfo:
            checkDocumentModifications: true
            noCheckValidationReason: noCheckValidationReason
            checkValidationSignature: true
            checkAdministrationIDOfSigner: true
          signType: signType
          signMode: 0
          signAlgorithm: SHA-1
          timeStampIncluded: true
          policyIncluded: true
        signedFile:
          data: data
          mime: mime
          name: name
        signID: signID
        status:
          errorStackTrace: errorStackTrace
          errorMessage: errorMessage
          status: 0
      properties:
        signedFile:
          $ref: '#/components/schemas/Document'
        signedFileInfo:
          $ref: '#/components/schemas/SignedFileInfo'
        signID:
          description: Identificador de la firma
          type: string
        status:
          $ref: '#/components/schemas/ProcessStatus'
        signPlugin:
          $ref: '#/components/schemas/SignPlugin'
      required:
      - signID
      - signedFile
      - signedFileInfo
      - status
      type: object
    SignPlugin:
      description: Informació del Plugin de firma utilitzat en la signatura d'aquest
        document.
      example:
        signaturePluginCode: signaturePluginCode
        signaturePluginNamePublic: signaturePluginNamePublic
        signaturePluginDescriptionPublic: signaturePluginDescriptionPublic
        signaturePluginId: signaturePluginId
        signaturePluginNameInternal: signaturePluginNameInternal
      properties:
        signaturePluginId:
          description: Identificador del plugin de firma utilitzat.
          type: string
        signaturePluginCode:
          description: Codi del plugin de firma utilitzat.
          type: string
        signaturePluginNameInternal:
          description: Nom intern del plugin de firma utilitzat.
          type: string
        signaturePluginNamePublic:
          description: Nom públic del plugin de firma utilitzat.
          type: string
        signaturePluginDescriptionPublic:
          description: Descripció pública del plugin de firma utilitzat.
          type: string
      type: object
    SignedFileInfo:
      description: Informació del fitxer signat.
      example:
        signaturesTableLocation: 1
        signers:
        - issuerCert: issuerCert
          eniRolFirma: eniRolFirma
          additionalInformation:
          - value: value
            key: key
          - value: value
            key: key
          signPlugin:
            signaturePluginCode: signaturePluginCode
            signaturePluginNamePublic: signaturePluginNamePublic
            signaturePluginDescriptionPublic: signaturePluginDescriptionPublic
            signaturePluginId: signaturePluginId
            signaturePluginNameInternal: signaturePluginNameInternal
          subjectCert: subjectCert
          eniSignerName: eniSignerName
          eniSignLevel: eniSignLevel
          signDate: 2000-01-23T04:56:07.000+00:00
          eniSignerAdministrationId: eniSignerAdministrationId
          serialNumberCert: serialNumberCert
        - issuerCert: issuerCert
          eniRolFirma: eniRolFirma
          additionalInformation:
          - value: value
            key: key
          - value: value
            key: key
          signPlugin:
            signaturePluginCode: signaturePluginCode
            signaturePluginNamePublic: signaturePluginNamePublic
            signaturePluginDescriptionPublic: signaturePluginDescriptionPublic
            signaturePluginId: signaturePluginId
            signaturePluginNameInternal: signaturePluginNameInternal
          subjectCert: subjectCert
          eniSignerName: eniSignerName
          eniSignLevel: eniSignLevel
          signDate: 2000-01-23T04:56:07.000+00:00
          eniSignerAdministrationId: eniSignerAdministrationId
          serialNumberCert: serialNumberCert
        signOperation: 1
        custodyInfo:
          validationFileUrl: validationFileUrl
          originalFileDirectURL: originalFileDirectURL
          expedientID: expedientID
          custodyID: custodyID
          csv: csv
          eniFileDirectUrl: eniFileDirectUrl
          csvValidationWeb: csvValidationWeb
          documentID: documentID
          csvGenerationDefinition: csvGenerationDefinition
          printableFileDirectUrl: printableFileDirectUrl
        eniTipoFirma: TF01
        eniPerfilFirma: AdES-BES
        validationInfo:
          checkDocumentModifications: true
          noCheckValidationReason: noCheckValidationReason
          checkValidationSignature: true
          checkAdministrationIDOfSigner: true
        signType: signType
        signMode: 0
        signAlgorithm: SHA-1
        timeStampIncluded: true
        policyIncluded: true
      properties:
        signOperation:
          description: "Operació de firma realitzada: Firma (0), Cofirma (1) o Contrafirma\
            \ (2)."
          example: 1
          format: int32
          type: integer
        signType:
          description: Tipus de Firma. Valors possibles veure SignTypeConstants.
          type: string
        signAlgorithm:
          description: "Algorisme de Firma. Valors: \r\n    - \"SHA-1\"\r\n    - \"\
            SHA-256\"\r\n    - \"SHA-384\"\r\n    - \"SHA-512\""
          example: SHA-1
          type: string
        signMode:
          description: Mode de firma. Valors veure SignModeConstants. Exemple SignModeConstants.SIGN_MODE_ATTACHED_ENVELOPED.value()
          example: 0
          format: int32
          type: integer
        signaturesTableLocation:
          description: Posició de la Taula de firmes:Veure classe SignaturesTableLocationConstants
          example: 1
          format: int32
          type: integer
        timeStampIncluded:
          description: Indica si s'ha afegit un segell de Temps durant la firma
          example: true
          type: boolean
        policyIncluded:
          description: "Indica si inclou política de firma (true, EPES) o no (false)"
          example: true
          type: boolean
        eniTipoFirma:
          description: "Denominación normalizada del tipo de firma. Los posibles valores\
            \ asignables son los siguientes: \r\n    - TF01 - CSV \r\n    - TF02 -\
            \ XAdES internally detached signature\"); \r\n    - TF03 - XAdES enveloped\
            \ signature.\r\n    - TF04 - CAdES detached/explicit signature.\r\n  \
            \  - TF05 – CadES attached/implicit signature.\r\n    - TF06 - PAdES.\
            \ El tipo TF04 será establecido por defecto para documentos firmados,\
            \ exceptuando los documentos en formato PDF o PDF/A, cuyo tipo será TF06."
          example: TF01
          type: string
        eniPerfilFirma:
          description: "Perfil empleado en una firma con certificado electrónico.\
            \ Los posibles valores asignables son los siguientes:\r\n  AdES-BES\r\n\
            \  AdES-EPES\r\n  AdES-T\r\n  AdES-C\r\n  AdES-X\r\n  AdES-X1\r\n  AdES-X2\r\
            \n  AdES-XL\r\n  AdES-XL1\r\n  AdES-XL2\r\n  AdES-A\r\n  PAdES-LTV\r\n\
            \  PAdES-Basic"
          example: AdES-BES
          type: string
        signers:
          description: Informació del signant o signants
          items:
            $ref: '#/components/schemas/SignerInfo'
          type: array
        custodyInfo:
          $ref: '#/components/schemas/CustodyInfo'
        validationInfo:
          $ref: '#/components/schemas/ValidationInfo'
      required:
      - policyIncluded
      - signAlgorithm
      - signMode
      - signOperation
      - signType
      - signaturesTableLocation
      - timeStampIncluded
      type: object
    SignerInfo:
      description: Informació del signant
      example:
        issuerCert: issuerCert
        eniRolFirma: eniRolFirma
        additionalInformation:
        - value: value
          key: key
        - value: value
          key: key
        signPlugin:
          signaturePluginCode: signaturePluginCode
          signaturePluginNamePublic: signaturePluginNamePublic
          signaturePluginDescriptionPublic: signaturePluginDescriptionPublic
          signaturePluginId: signaturePluginId
          signaturePluginNameInternal: signaturePluginNameInternal
        subjectCert: subjectCert
        eniSignerName: eniSignerName
        eniSignLevel: eniSignLevel
        signDate: 2000-01-23T04:56:07.000+00:00
        eniSignerAdministrationId: eniSignerAdministrationId
        serialNumberCert: serialNumberCert
      properties:
        eniRolFirma:
          description: "Esquemas desarrollados a nivel local y que pueden incluir\
            \ valores como válida, autentica, refrenda, visa, representa, testimonia,\
            \ etc.."
          type: string
        eniSignerName:
          description: Nombre o razón social de los firmantes.
          type: string
        eniSignerAdministrationId:
          description: NIF del firmant.
          type: string
        eniSignLevel:
          description: "Indicador normalizado que refleja el grado de  confianza de\
            \ la firma utilizado. Ejemplos: Nick, PIN ciudadano, Firma electrónica\
            \ avanzada, Claves concertadas, Firma electrónica avanzada basada en certificados,\
            \ CSV, .."
          type: string
        signDate:
          description: Data en que es va realitzar la firma
          format: date-time
          pattern: yyyy-MM-dd'T'HH:mm:ss
          type: string
        serialNumberCert:
          description: Número de Sèrie del Certificat utilitzat en la firma
          type: string
        issuerCert:
          description: Issuer del Certificat utilitzat en la firma
          type: string
        subjectCert:
          description: Subject del Certificat utilitzat en la firma
          type: string
        signPlugin:
          $ref: '#/components/schemas/SignPlugin'
        additionalInformation:
          description: Ofrecer cualquier otra información que se considere útil acerca
            del firmante.
          items:
            $ref: '#/components/schemas/KeyValue'
          type: array
      type: object
    ValidationInfo:
      description: Informació de les validacions realitzades despres de la firma.
      example:
        checkDocumentModifications: true
        noCheckValidationReason: noCheckValidationReason
        checkValidationSignature: true
        checkAdministrationIDOfSigner: true
      properties:
        checkAdministrationIDOfSigner:
          description: S’ha verificat que l’identificador del firmant és la del que
            estava previst que firmàs. Valor buit indica que no s'ha realitzat la
            validació.
          type: boolean
        checkDocumentModifications:
          description: S’ha verificat que no s’hagi modificat el document original.
            Valor buit indica que no s'ha realitzat la validació.
          type: boolean
        checkValidationSignature:
          description: S’ha verificat que la firma és correcte. Valor buit indica
            que no s'ha realitzat la validació.
          type: boolean
        noCheckValidationReason:
          description: Només s'omple si checkValidationSignature val false
          type: string
      type: object
    UpgradeRequest:
      example:
        signature:
          data: data
          mime: mime
          name: name
        detachedDocument:
          data: data
          mime: mime
          name: name
        profileCode: profileCode
        targetCertificate:
          data: data
          mime: mime
          name: name
      properties:
        profileCode:
          description: "Codi del perfil a utilitzar. Si no es defineix, llavors requerim\
            \ que quest usuari aplicación només tengui un Perfil definit."
          type: string
        signature:
          $ref: '#/components/schemas/Document'
        detachedDocument:
          $ref: '#/components/schemas/Document'
        targetCertificate:
          $ref: '#/components/schemas/Document'
      type: object
    InformacioCertificat:
      properties:
        tipusCertificat:
          type: string
        subject:
          type: string
        nomResponsable:
          type: string
        primerLlinatgeResponsable:
          type: string
        segonLlinatgeResponsable:
          type: string
        llinatgesResponsable:
          type: string
        nomCompletResponsable:
          type: string
        nifResponsable:
          type: string
        pseudonim:
          type: string
        documentRepresentacio:
          type: string
        carrec:
          type: string
        llocDeFeina:
          type: string
        nomDomini:
          type: string
        denominacioSistemaComponent:
          type: string
        idEuropeu:
          type: string
        oiEuropeu:
          type: string
        numeroIdentificacionPersonal:
          type: string
        entitatSubscriptoraNom:
          type: string
        entitatSubscriptoraNif:
          type: string
        classificacioEidas:
          type: string
        certificatQualificat:
          type: boolean
        creatAmbUnDispositiuSegur:
          type: boolean
        organitzacio:
          type: string
        emissorID:
          type: string
        unitatOrganitzativaNifCif:
          type: string
        email:
          type: string
        dataNaixement:
          type: string
        raoSocial:
          type: string
        classificacio:
          format: int32
          type: integer
        numeroSerie:
          type: integer
        usCertificat:
          type: string
        usCertificatExtensio:
          type: string
        validFins:
          format: date-time
          type: string
        validDesDe:
          format: date-time
          type: string
        politica:
          type: string
        politicaVersio:
          type: string
        politicaID:
          type: string
        emissorOrganitzacio:
          type: string
        pais:
          type: string
        unitatOrganitzativa:
          type: string
        qcCompliance:
          type: string
        qcSSCD:
          type: string
        idlogOn:
          type: string
        altresValors:
          additionalProperties:
            type: string
          type: object
      type: object
    SignatureCheck:
      example:
        name: name
        type: type
      properties:
        name:
          type: string
        type:
          type: string
      type: object
    SignatureDetailInfo:
      example:
        indeterminateChecks:
        - name: name
          type: type
        - name: name
          type: type
        digestValue: digestValue
        validChecks:
        - name: name
          type: type
        - name: name
          type: type
        policyIdentifier: policyIdentifier
        timeStampInfo:
          certificateIssuer: certificateIssuer
          creationTime: 2000-01-23T04:56:07.000+00:00
          certificate:
          - certificate
          - certificate
          certificateSubject: certificateSubject
          algorithm: algorithm
        certificateChain:
        - - certificateChain
          - certificateChain
        - - certificateChain
          - certificateChain
        invalidChecks:
        - name: name
          type: type
        - name: name
          type: type
        signDate: 2000-01-23T04:56:07.000+00:00
        certificateInfo:
          certificateDescription: certificateDescription
          administrationID: administrationID
          policyVersion: policyVersion
          country: country
          validSince: 2000-01-23T04:56:07.000+00:00
          subject: subject
          companyName: companyName
          keyUsageCertificateExtension: keyUsageCertificateExtension
          pseudonym: pseudonym
          organizationUnitName: organizationUnitName
          issuerOrganization: issuerOrganization
          certificateTypeMinetur: 5
          policyID: policyID
          entityName: entityName
          qcCompliance: qcCompliance
          europeanAdministrationID: europeanAdministrationID
          secondSurname: secondSurname
          keyUsageCertificate: keyUsageCertificate
          surnames: surnames
          cargo: cargo
          firstSurname: firstSurname
          email: email
          certificateQualified: true
          europeanOrganizationAdministrationID: europeanOrganizationAdministrationID
          policy: policy
          positionInTheCompany: positionInTheCompany
          serialNumber: serialNumber
          representationDocument: representationDocument
          systemOrComponentDescription: systemOrComponentDescription
          functionaryID: functionaryID
          fullName: fullName
          entityAdministrationID: entityAdministrationID
          birthDate: birthDate
          idlogOn: idlogOn
          firstName: firstName
          issuerID: issuerID
          domainName: domainName
          createdWithASecureDevice: true
          organization: organization
          validUntil: 2000-01-23T04:56:07.000+00:00
          organizationUnitID: organizationUnitID
          certificateTypeEidas: certificateTypeEidas
          qcSSCD: qcSSCD
          altresValors:
            key: altresValors
        algorithm: algorithm
      properties:
        algorithm:
          type: string
        digestValue:
          type: string
        signDate:
          format: date-time
          type: string
        validChecks:
          items:
            $ref: '#/components/schemas/SignatureCheck'
          type: array
        invalidChecks:
          items:
            $ref: '#/components/schemas/SignatureCheck'
          type: array
        indeterminateChecks:
          items:
            $ref: '#/components/schemas/SignatureCheck'
          type: array
        policyIdentifier:
          type: string
        certificateInfo:
          $ref: '#/components/schemas/CertificateInformation'
        certificateChain:
          items:
            items:
              format: byte
              type: string
            type: array
          type: array
        timeStampInfo:
          $ref: '#/components/schemas/TimeStampInfo'
      type: object
    TimeStampInfo:
      example:
        certificateIssuer: certificateIssuer
        creationTime: 2000-01-23T04:56:07.000+00:00
        certificate:
        - certificate
        - certificate
        certificateSubject: certificateSubject
        algorithm: algorithm
      properties:
        creationTime:
          format: date-time
          type: string
        certificateIssuer:
          type: string
        certificateSubject:
          type: string
        certificate:
          items:
            format: byte
            type: string
          type: array
        algorithm:
          type: string
      type: object
    UpgradeResponse:
      example:
        upgradedFileInfo:
          additionInformation:
          - value: value
            key: key
          - value: value
            key: key
          eniTipoFirma: eniTipoFirma
          eniPerfilFirma: eniPerfilFirma
          validationInfo:
            checkDocumentModifications: true
            noCheckValidationReason: noCheckValidationReason
            checkValidationSignature: true
            checkAdministrationIDOfSigner: true
          signType: PAdES
          signMode: 0
          signAlgorithm: SHA-1
        upgradedFile:
          data: data
          mime: mime
          name: name
      properties:
        upgradedFile:
          $ref: '#/components/schemas/Document'
        upgradedFileInfo:
          $ref: '#/components/schemas/UpgradedFileInfo'
      required:
      - upgradedFile
      type: object
    ValidacioCompletaResponse:
      properties:
        signType:
          type: string
        mime:
          type: string
        extension:
          type: string
        nifFirmant:
          type: string
        checkAdministrationIDOfSigner:
          type: boolean
        checkDocumentModifications:
          type: boolean
        checkValidationSignature:
          type: boolean
        validateSignatureResponse:
          $ref: '#/components/schemas/ValidateSignatureResponse'
        numeroSerieCertificat:
          type: integer
        emissorCertificat:
          type: string
        subjectCertificat:
          type: string
        certificateLastSign:
          $ref: '#/components/schemas/ValidacioCompletaResponse_certificateLastSign'
        perfilDeFirma:
          type: string
      type: object
    ValidateSignatureResponse:
      example:
        signProfile: signProfile
        signType: signType
        signMode: 6
        validationStatus:
          errorException: errorException
          status: 1
          errorMsg: errorMsg
        signatureDetailInfo:
        - indeterminateChecks:
          - name: name
            type: type
          - name: name
            type: type
          digestValue: digestValue
          validChecks:
          - name: name
            type: type
          - name: name
            type: type
          policyIdentifier: policyIdentifier
          timeStampInfo:
            certificateIssuer: certificateIssuer
            creationTime: 2000-01-23T04:56:07.000+00:00
            certificate:
            - certificate
            - certificate
            certificateSubject: certificateSubject
            algorithm: algorithm
          certificateChain:
          - - certificateChain
            - certificateChain
          - - certificateChain
            - certificateChain
          invalidChecks:
          - name: name
            type: type
          - name: name
            type: type
          signDate: 2000-01-23T04:56:07.000+00:00
          certificateInfo:
            certificateDescription: certificateDescription
            administrationID: administrationID
            policyVersion: policyVersion
            country: country
            validSince: 2000-01-23T04:56:07.000+00:00
            subject: subject
            companyName: companyName
            keyUsageCertificateExtension: keyUsageCertificateExtension
            pseudonym: pseudonym
            organizationUnitName: organizationUnitName
            issuerOrganization: issuerOrganization
            certificateTypeMinetur: 5
            policyID: policyID
            entityName: entityName
            qcCompliance: qcCompliance
            europeanAdministrationID: europeanAdministrationID
            secondSurname: secondSurname
            keyUsageCertificate: keyUsageCertificate
            surnames: surnames
            cargo: cargo
            firstSurname: firstSurname
            email: email
            certificateQualified: true
            europeanOrganizationAdministrationID: europeanOrganizationAdministrationID
            policy: policy
            positionInTheCompany: positionInTheCompany
            serialNumber: serialNumber
            representationDocument: representationDocument
            systemOrComponentDescription: systemOrComponentDescription
            functionaryID: functionaryID
            fullName: fullName
            entityAdministrationID: entityAdministrationID
            birthDate: birthDate
            idlogOn: idlogOn
            firstName: firstName
            issuerID: issuerID
            domainName: domainName
            createdWithASecureDevice: true
            organization: organization
            validUntil: 2000-01-23T04:56:07.000+00:00
            organizationUnitID: organizationUnitID
            certificateTypeEidas: certificateTypeEidas
            qcSSCD: qcSSCD
            altresValors:
              key: altresValors
          algorithm: algorithm
        - indeterminateChecks:
          - name: name
            type: type
          - name: name
            type: type
          digestValue: digestValue
          validChecks:
          - name: name
            type: type
          - name: name
            type: type
          policyIdentifier: policyIdentifier
          timeStampInfo:
            certificateIssuer: certificateIssuer
            creationTime: 2000-01-23T04:56:07.000+00:00
            certificate:
            - certificate
            - certificate
            certificateSubject: certificateSubject
            algorithm: algorithm
          certificateChain:
          - - certificateChain
            - certificateChain
          - - certificateChain
            - certificateChain
          invalidChecks:
          - name: name
            type: type
          - name: name
            type: type
          signDate: 2000-01-23T04:56:07.000+00:00
          certificateInfo:
            certificateDescription: certificateDescription
            administrationID: administrationID
            policyVersion: policyVersion
            country: country
            validSince: 2000-01-23T04:56:07.000+00:00
            subject: subject
            companyName: companyName
            keyUsageCertificateExtension: keyUsageCertificateExtension
            pseudonym: pseudonym
            organizationUnitName: organizationUnitName
            issuerOrganization: issuerOrganization
            certificateTypeMinetur: 5
            policyID: policyID
            entityName: entityName
            qcCompliance: qcCompliance
            europeanAdministrationID: europeanAdministrationID
            secondSurname: secondSurname
            keyUsageCertificate: keyUsageCertificate
            surnames: surnames
            cargo: cargo
            firstSurname: firstSurname
            email: email
            certificateQualified: true
            europeanOrganizationAdministrationID: europeanOrganizationAdministrationID
            policy: policy
            positionInTheCompany: positionInTheCompany
            serialNumber: serialNumber
            representationDocument: representationDocument
            systemOrComponentDescription: systemOrComponentDescription
            functionaryID: functionaryID
            fullName: fullName
            entityAdministrationID: entityAdministrationID
            birthDate: birthDate
            idlogOn: idlogOn
            firstName: firstName
            issuerID: issuerID
            domainName: domainName
            createdWithASecureDevice: true
            organization: organization
            validUntil: 2000-01-23T04:56:07.000+00:00
            organizationUnitID: organizationUnitID
            certificateTypeEidas: certificateTypeEidas
            qcSSCD: qcSSCD
            altresValors:
              key: altresValors
          algorithm: algorithm
      properties:
        signType:
          type: string
        signMode:
          format: int32
          type: integer
        signProfile:
          type: string
        validationStatus:
          $ref: '#/components/schemas/ValidationStatus'
        signatureDetailInfo:
          items:
            $ref: '#/components/schemas/SignatureDetailInfo'
          type: array
      type: object
    ValidationStatus:
      example:
        errorException: errorException
        status: 1
        errorMsg: errorMsg
      properties:
        status:
          format: int32
          type: integer
        errorMsg:
          type: string
        errorException:
          type: string
      type: object
    UpgradedFileInfo:
      description: Informació de la firma actualitzada
      example:
        additionInformation:
        - value: value
          key: key
        - value: value
          key: key
        eniTipoFirma: eniTipoFirma
        eniPerfilFirma: eniPerfilFirma
        validationInfo:
          checkDocumentModifications: true
          noCheckValidationReason: noCheckValidationReason
          checkValidationSignature: true
          checkAdministrationIDOfSigner: true
        signType: PAdES
        signMode: 0
        signAlgorithm: SHA-1
      properties:
        signType:
          description: "Tipus de Firma. Valors possibles:\r\n    • “PAdES” (Constant\
            \ SIGN_TYPE_PADES)\r\n    • “XAdES” (Constant SIGN_TYPE_XADES)\r\n   \
            \ • “CAdES” (Constant SIGN_TYPE_CADES)\r\n    • “FacturaE” (Constant SIGN_TYPE_FACTURAE)\r\
            \n    • “OOXML” (Constant SIGN_TYPE_OOXML)\r\n    • “ODF” (Constant SIGN_TYPE_ODF)\r\
            \n    • “SMIME” (Constant SIGN_TYPE_SMIME)\r\n    • “CAdES-ASiC-S” (Constant\
            \ SIGN_TYPE_CADES_ASIC_S)\r\n    • “XAdES-ASiC-S” (Constant SIGN_TYPE_XADES_ASIC_S)\r\
            \n    • “PKCS#1” (Constant SIGN_TYPE_PKCS1)"
          example: PAdES
          type: string
        signAlgorithm:
          description: "Algorisme de Firma. Valors:\r\n    • \"SHA-1\"\r\n    • \"\
            SHA-256\"\r\n    • \"SHA-384\"\r\n    • \"SHA-512\""
          example: SHA-1
          type: string
        signMode:
          description: Mode de firma attached (0) o detached (1)
          example: 0
          format: int32
          type: integer
        eniTipoFirma:
          type: string
        eniPerfilFirma:
          type: string
        validationInfo:
          $ref: '#/components/schemas/ValidationInfo'
        additionInformation:
          items:
            $ref: '#/components/schemas/KeyValue'
          type: array
      required:
      - signAlgorithm
      - signMode
      - signType
      type: object
    ValidationStatusConstants:
      description: |
        Estats de la validació d'una firma:
            • "SIGNATURE_VALID"
            • "SIGNATURE_ERROR"
      enum:
      - 1
      - -1
      - -2
      format: int32
      type: integer
      x-enum-varnames:
      - SIGNATURE_VALID
      - SIGNATURE_ERROR
      - SIGNATURE_INVALID
      x-enum-descriptions:
      - ' '
      - ' '
      - ' '
    CertificateTypeEidasConstants:
      description: "* ESEAL: Certificado de sello electrónico. Pertenece a una persona\
        \ jurídica pero NO incluye un custodio.\n* ESIG: Certificado para firma electró\
        nica (persona física).\n* WSA: Certificado para autenticación de servidor\
        \ web.\r\n    public static final String EIDAS_UNKNOWN = \"UNKNOWN\"; // Se\
        \ desconoce el tipo del certificado\r\n                                  \
        \                        // (Se considera no cualificado a menos\r\n     \
        \                                                     // que se indique lo\
        \ contrario en\r\n                                                       \
        \   // certQualified)."
      enum:
      - ESEAL
      - ESIG
      - WSA
      - UNKNOWN
      type: string
      x-enum-varnames:
      - ESEAL
      - ESIG
      - WSA
      - UNKNOWN
      x-enum-descriptions:
      - ' '
      - ' '
      - ' '
      - ' '
    CertificateTypeMineturConstants:
      description: "Classificació del tipus de certificats:\r\n\r\n              \
        \  CLASSIFICACIO_DESCONEGUDA(-1)\r\n                // 0 –Persona física-\r\
        \n                CLASSIFICACIO_PERSONA_FISICA(0)\r\n                // 1\
        \ –Persona jurídica (no cualificado)-\r\n                CLASSIFICACIO_PERSONA_JURIDICA(1)\r\
        \n                // 2 –No cualificados-\r\n                CLASSIFICACIO_NO_QUALIFICATS(2)\r\
        \n\r\n                // 3 –Sede según la ley 40/2015(no cualificado)-\r\n\
        \                CLASSIFICACIO_SEU_ELECTRONICA(3)\r\n                // 4\
        \ –Sello según la ley 40/2015(no cualificado)-\r\n                CLASSIFICACIO_SEGELL(4)\r\
        \n                // 5 –Empleado Público según la ley 40/2015-\r\n       \
        \         CLASSIFICACIO_EMPLEAT_PUBLIC(5)\r\n                // 6 –Entidad\
        \ sin personalidad jurídica (no cualificado)-\r\n                CLASSIFICACIO_ENTITAT_SENSE_PERSONALITAT_JURIDICA(6)\r\
        \n                // 7 –Empleado público con seudónimo según el RD 1671/2009-\r\
        \n                CLASSIFICACIO_EMPLEAT_PUBLIC_AMB_PSEUDONIM(7)\r\n      \
        \          // 8 –Cualificado de sello, según el reglamente UE 910/2014-\r\n\
        \                CLASSIFICACIO_SEGELL_QUALIFICAT(8)\r\n                //\
        \ 9 –Cualificado de autenticación, según el reglamente UE 910/2014-\r\n  \
        \              CLASSIFICACIO_AUTENTIFICACIO_QUALIFICAT(9)\r\n            \
        \    // 10 –Cualificado de servicio cualificado de sello de tiempo-\r\n  \
        \              CLASSIFICACIO_SEGELL_DE_TEMPS(10)\r\n                // 11\
        \ –Persona física representante ante las Administraciones Públicas de persona\
        \ jurídica-\r\n                CLASSIFICACIO_AUTENTIFICACIO_REPRESENTANT_ADMINISTRACIO_PERSONA_JURIDICA(11)\r\
        \n                // 12 –Persona física representante ante las Administraciones\
        \ Públicas de entidad sin persona jurídica\r\n                CLASSIFICACIO_AUTENTIFICACIO_REPRESENTANT_ADMINISTRACIO_ENTITAT(12;"
      enum:
      - -1
      - 0
      - 1
      - 2
      - 3
      - 4
      - 5
      - 6
      - 7
      - 8
      - 9
      - 10
      - 11
      - 12
      format: int32
      type: integer
      x-enum-varnames:
      - CLASSIFICACIO_DESCONEGUDA
      - CLASSIFICACIO_PERSONA_FISICA
      - |
        CLASSIFICACIO_PERSONA_JURIDICA
      - CLASSIFICACIO_NO_QUALIFICATS
      - CLASSIFICACIO_SEU_ELECTRONICA
      - CLASSIFICACIO_SEGELL
      - CLASSIFICACIO_EMPLEAT_PUBLIC
      - CLASSIFICACIO_ENTITAT_SENSE_PERSONALITAT_JURIDICA
      - CLASSIFICACIO_EMPLEAT_PUBLIC_AMB_PSEUDONIM
      - CLASSIFICACIO_SEGELL_QUALIFICAT
      - CLASSIFICACIO_AUTENTIFICACIO_QUALIFICAT
      - CLASSIFICACIO_SEGELL_DE_TEMPS
      - CLASSIFICACIO_AUTENTIFICACIO_REPRESENTANT_ADMINISTRACIO_PERSONA_JURIDICA
      - CLASSIFICACIO_AUTENTIFICACIO_REPRESENTANT_ADMINISTRACIO_ENTITAT
      x-enum-descriptions:
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
      - ' '
    SignatureRequestedInformation:
      example:
        returnCertificateInfo: true
        returnSignatureTypeFormatProfile: true
        validateCertificateRevocation: true
        returnValidationChecks: true
        returnCertificates: true
        returnTimeStampInfo: true
      properties:
        returnSignatureTypeFormatProfile:
          type: boolean
        validateCertificateRevocation:
          type: boolean
        returnCertificateInfo:
          type: boolean
        returnValidationChecks:
          type: boolean
        returnCertificates:
          type: boolean
        returnTimeStampInfo:
          type: boolean
      type: object
    ValidateSignatureRequest:
      example:
        detachedDocument:
          data: data
          mime: mime
          name: name
        signatureRequestedInformation:
          returnCertificateInfo: true
          returnSignatureTypeFormatProfile: true
          validateCertificateRevocation: true
          returnValidationChecks: true
          returnCertificates: true
          returnTimeStampInfo: true
        signatureDocument:
          data: data
          mime: mime
          name: name
      properties:
        detachedDocument:
          $ref: '#/components/schemas/Document'
        signatureDocument:
          $ref: '#/components/schemas/Document'
        signatureRequestedInformation:
          $ref: '#/components/schemas/SignatureRequestedInformation'
      type: object
    CertificateInformation:
      example:
        certificateDescription: certificateDescription
        administrationID: administrationID
        policyVersion: policyVersion
        country: country
        validSince: 2000-01-23T04:56:07.000+00:00
        subject: subject
        companyName: companyName
        keyUsageCertificateExtension: keyUsageCertificateExtension
        pseudonym: pseudonym
        organizationUnitName: organizationUnitName
        issuerOrganization: issuerOrganization
        certificateTypeMinetur: 5
        policyID: policyID
        entityName: entityName
        qcCompliance: qcCompliance
        europeanAdministrationID: europeanAdministrationID
        secondSurname: secondSurname
        keyUsageCertificate: keyUsageCertificate
        surnames: surnames
        cargo: cargo
        firstSurname: firstSurname
        email: email
        certificateQualified: true
        europeanOrganizationAdministrationID: europeanOrganizationAdministrationID
        policy: policy
        positionInTheCompany: positionInTheCompany
        serialNumber: serialNumber
        representationDocument: representationDocument
        systemOrComponentDescription: systemOrComponentDescription
        functionaryID: functionaryID
        fullName: fullName
        entityAdministrationID: entityAdministrationID
        birthDate: birthDate
        idlogOn: idlogOn
        firstName: firstName
        issuerID: issuerID
        domainName: domainName
        createdWithASecureDevice: true
        organization: organization
        validUntil: 2000-01-23T04:56:07.000+00:00
        organizationUnitID: organizationUnitID
        certificateTypeEidas: certificateTypeEidas
        qcSSCD: qcSSCD
        altresValors:
          key: altresValors
      properties:
        certificateDescription:
          type: string
        subject:
          type: string
        firstName:
          type: string
        firstSurname:
          type: string
        secondSurname:
          type: string
        surnames:
          type: string
        fullName:
          type: string
        administrationID:
          description: DNI del responsable del certificat
          type: string
        email:
          description: Email del responsable del certificat
          type: string
        birthDate:
          description: Data de naixement del responsable del certificat
          type: string
        pseudonym:
          description: "Pseudónimo del titular del certificat, si aplica. En certificats\
            \ de tipus 7 (Empleat Públic amb pseudònim) és obligatori"
          type: string
        representationDocument:
          description: "En certificats de Representació, indica el document que acredita\
            \ la representació del titular del certificat"
          type: string
        cargo:
          deprecated: true
          description: "Camp obsolet, es recomana usar positionInTheCompany"
          type: string
        positionInTheCompany:
          type: string
        domainName:
          description: "Domini del lloc web, tal y como figura en el Subject Alternative\
            \ Names"
          type: string
        systemOrComponentDescription:
          type: string
        europeanAdministrationID:
          description: "DNI o identificador europeu del responsable del certificat,\
            \ amb codificació estàndard segons ETSI EN 319 412"
          type: string
        europeanOrganizationAdministrationID:
          description: "NIF o identificador de l'organització europeu del responsable\
            \ del certificat, amb codificació estàndard segons ETSI EN 319 412"
          type: string
        functionaryID:
          type: string
        entityName:
          type: string
        entityAdministrationID:
          type: string
        certificateTypeMinetur:
          description: "El mapeo es realizado por el Ministerio de Hacienda y Administraciones\r\
            \nPúblicas e incluye a todos los prestadores de certificación reconocidos.Este\
            \ campo se devolverá para los certificados españoles, para facilitar el\
            \ tratamiento a aquellas aplicaciones que necesiten admitir tanto a certificados\
            \ españoles como europeos, ya que las siguientes clasificaciones son equivalentes:\n\
            \ * ESEAL => Clasificación = 8.\n * ESIG  => Clasificación = 0, 5, 7,\
            \ 11, 12.\n * WSA => Clasificación = 9.\n * UNKNOWN => Clasificación =\
            \ 2, 10.\nConsultar l'enumeració es.caib.utilitatsfirma.apiinterna.client.signature.v1.model.CertificateTypeMineturConstants\
            \ per a més detalls."
          format: int32
          type: integer
        certificateTypeEidas:
          description: 'Consultar l''enumeració es.caib.utilitatsfirma.apiinterna.client.signature.v1.model.CertificateTypeEidasConstants
            per a més detalls. '
          type: string
        certificateQualified:
          type: boolean
        createdWithASecureDevice:
          type: boolean
        issuerID:
          description: Nom de qui ha emès el certificat
          type: string
        issuerOrganization:
          description: Nom de l'organització emissora del certificat
          type: string
        companyName:
          type: string
        serialNumber:
          description: SerialNumber del certificat
          type: string
        keyUsageCertificate:
          type: string
        keyUsageCertificateExtension:
          type: string
        validSince:
          format: date-time
          type: string
        validUntil:
          format: date-time
          type: string
        policy:
          type: string
        policyVersion:
          type: string
        policyID:
          type: string
        country:
          type: string
        organization:
          type: string
        organizationUnitName:
          type: string
        organizationUnitID:
          type: string
        qcCompliance:
          type: string
        qcSSCD:
          type: string
        idlogOn:
          type: string
        altresValors:
          additionalProperties:
            type: string
          type: object
      type: object
    ValidacioCompletaResponse_certificateLastSign_issuerX500Principal:
      properties:
        name:
          type: string
        encoded:
          items:
            format: byte
            type: string
          type: array
      type: object
    ValidacioCompletaResponse_certificateLastSign_issuerDN:
      properties:
        name:
          type: string
      type: object
    ValidacioCompletaResponse_certificateLastSign_publicKey:
      properties:
        encoded:
          items:
            format: byte
            type: string
          type: array
        algorithm:
          type: string
        format:
          type: string
      type: object
    ValidacioCompletaResponse_certificateLastSign:
      properties:
        type:
          type: string
        signature:
          items:
            format: byte
            type: string
          type: array
        basicConstraints:
          format: int32
          type: integer
        issuerX500Principal:
          $ref: '#/components/schemas/ValidacioCompletaResponse_certificateLastSign_issuerX500Principal'
        subjectX500Principal:
          $ref: '#/components/schemas/ValidacioCompletaResponse_certificateLastSign_issuerX500Principal'
        version:
          format: int32
          type: integer
        serialNumber:
          type: integer
        issuerDN:
          $ref: '#/components/schemas/ValidacioCompletaResponse_certificateLastSign_issuerDN'
        tbscertificate:
          items:
            format: byte
            type: string
          type: array
        extendedKeyUsage:
          items:
            type: string
          type: array
        subjectDN:
          $ref: '#/components/schemas/ValidacioCompletaResponse_certificateLastSign_issuerDN'
        notBefore:
          format: date-time
          type: string
        notAfter:
          format: date-time
          type: string
        sigAlgName:
          type: string
        sigAlgOID:
          type: string
        sigAlgParams:
          items:
            format: byte
            type: string
          type: array
        issuerUniqueID:
          items:
            type: boolean
          type: array
        subjectUniqueID:
          items:
            type: boolean
          type: array
        keyUsage:
          items:
            type: boolean
          type: array
        subjectAlternativeNames:
          items:
            items:
              type: object
            type: array
          type: array
        issuerAlternativeNames:
          items:
            items:
              type: object
            type: array
          type: array
        criticalExtensionOIDs:
          items:
            type: string
          type: array
          uniqueItems: true
        nonCriticalExtensionOIDs:
          items:
            type: string
          type: array
          uniqueItems: true
        encoded:
          items:
            format: byte
            type: string
          type: array
        publicKey:
          $ref: '#/components/schemas/ValidacioCompletaResponse_certificateLastSign_publicKey'
      type: object
  securitySchemes:
    BasicAuth:
      scheme: basic
      type: http

